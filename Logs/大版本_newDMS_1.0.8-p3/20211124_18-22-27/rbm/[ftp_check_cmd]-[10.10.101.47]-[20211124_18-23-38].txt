2021-11-24 18:23:39 [WARNING] E:/TempData/d_auto_test/auto_test_dms/Case_rbm/ftp_check_cmd
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.101.47完成!
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.101.148完成!
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.101.149完成!
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.100.1完成!
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.88.53完成!
2021-11-24 18:23:39 [WARNING] <ConnectionParameters host=10.10.101.233 port=5672 virtual_host=/ ssl=False>
2021-11-24 18:23:39 [WARNING] Rabbitmq初始化完成: 10.10.101.233:5672
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.101.111完成!
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.101.112完成!
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.101.180完成!
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.101.26完成!
2021-11-24 18:23:39 [WARNING] ssh初始化: 10.10.100.201完成!
2021-11-24 18:23:39 [WARNING] base_path: E:/TempData/d_auto_test
2021-11-24 18:23:39 [WARNING] ssh 连接开始
2021-11-24 18:23:39 [WARNING] ssh连接主机：10.10.101.47  完成!
2021-11-24 18:23:39 [WARNING] ssh服务器: 10.10.101.47连接成功
2021-11-24 18:23:39 [WARNING] Rabbitmq服务器连接: 10.10.101.233:5672 成功.
2021-11-24 18:23:39 [WARNING] 向Rabbitmq发送信息成功!
2021-11-24 18:23:39 [WARNING] Domain值为: hf.f1203.g01.cs_17.wg47的Rabbitmq信息接收线程已开启!
2021-11-24 18:23:39 [WARNING] 查询命令为：ps -ef |grep nginx
2021-11-24 18:23:39 [WARNING] 检查当前nginx的worker进程数，第一次获取的结果为：root      76372      1  1 16:38 ?        00:01:10 nginx: master process /usr/local/nginx/sbin/nginx
root      80793  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80794  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80795  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80796  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80797  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80798  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80799  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80800  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80801  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80802  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80803  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80804  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80805  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80806  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80807  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80808  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80809  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80810  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80811  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80812  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80813  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80814  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80815  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80816  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80898  80887  0 18:23 ?        00:00:00 bash -c ps -ef |grep nginx
root      80906  80898  0 18:23 ?        00:00:00 grep nginx

2021-11-24 18:23:44 [WARNING] Domain值为: hf.f1203.g01.cs_17.wg47 的Rabbitmq信息接收管道关闭成功!
2021-11-24 18:23:44 [WARNING] 这是进程的第1次等待
2021-11-24 18:23:44 [WARNING] 检查nginx的worker进程数：
root      76372      1  1 16:38 ?        00:01:12 nginx: master process /usr/local/nginx/sbin/nginx
root      80793  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80794  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80795  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80796  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80797  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80798  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80799  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80800  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80801  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80802  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80803  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80804  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80805  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80806  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80807  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80808  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80809  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80810  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80811  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80812  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80813  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80814  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80815  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80816  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80920  80887  0 18:23 ?        00:00:00 bash -c ps -ef |grep nginx
root      80928  80920  0 18:23 ?        00:00:00 grep nginx

2021-11-24 18:23:44 [WARNING] 当前有24个进程启动成功
2021-11-24 18:23:44 [WARNING] 24个进程全部启动成功
2021-11-24 18:23:44 [WARNING] 检查代理端口是否监听
2021-11-24 18:23:44 [WARNING] 查询命令为：netstat -ntlp
2021-11-24 18:23:45 [WARNING] 监听端口命令返回值：
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        0      0 192.168.30.47:2121      0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 192.168.30.47:2122      0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 192.168.30.47:2123      0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 0.0.0.0:20022           0.0.0.0:*               LISTEN      12457/sshd: /usr/sb 
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      12457/sshd: /usr/sb 
tcp        0      0 0.0.0.0:8088            0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      12923/master        
tcp        0      0 0.0.0.0:10050           0.0.0.0:*               LISTEN      12407/zabbix_agentd 
tcp6       0      0 :::20022                :::*                    LISTEN      12457/sshd: /usr/sb 
tcp6       0      0 :::22                   :::*                    LISTEN      12457/sshd: /usr/sb 
tcp6       0      0 ::1:25                  :::*                    LISTEN      12923/master        
tcp6       0      0 :::10050                :::*                    LISTEN      12407/zabbix_agentd 

2021-11-24 18:23:45 [WARNING] 预期包含内容：192.168.30.47:2121
2021-11-24 18:23:45 [WARNING] 端口监听检查通过
2021-11-24 18:23:45 [WARNING] 检查代理文件和内容是否正确
2021-11-24 18:23:45 [WARNING] 查询命令为：cat /etc/jsac/other_proxy/5_2121_ftp.stream
2021-11-24 18:23:45 [WARNING] 检查内容为：192.168.30.47:2121
2021-11-24 18:23:45 [WARNING] 代理文件内容为：
upstream 192.168.30.47-2121-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2121;
	app_id 5;
	proxy_pass 192.168.30.47-2121-ftp;
	proxy_service ftp;
}
upstream 192.168.30.47-2122-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2122;
	app_id 5;
	proxy_pass 192.168.30.47-2122-ftp;
	proxy_service ftp_data;
}
upstream 192.168.30.47-2123-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2123;
	app_id 5;
	proxy_pass 192.168.30.47-2123-ftp;
	proxy_service ftp_data;
}
upstream 192.168.30.47-2124-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2124;
	app_id 5;
	proxy_pass 192.168.30.47-2124-ftp;
	proxy_service ftp_data;
}
upstream 192.168.30.47-2125-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2125;
	app_id 5;
	proxy_pass 192.168.30.47-2125-ftp;
	proxy_service ftp_data;
}
upstream 192.168.30.47-2126-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2126;
	app_id 5;
	proxy_pass 192.168.30.47-2126-ftp;
	proxy_service ftp_data;
}

2021-11-24 18:23:45 [WARNING] 代理文件检查通过
2021-11-24 18:23:45 [WARNING] Rabbitmq服务器连接: 10.10.101.233:5672 成功.
2021-11-24 18:23:45 [WARNING] 向Rabbitmq发送信息成功!
2021-11-24 18:23:45 [WARNING] Domain值为: hf.f1203.g01.cs_17.wg47的Rabbitmq信息接收线程已开启!
2021-11-24 18:23:45 [WARNING] 查询命令为：ps -ef |grep nginx
2021-11-24 18:23:45 [WARNING] 检查当前nginx的worker进程数，第一次获取的结果为：root      76372      1  1 16:38 ?        00:01:12 nginx: master process /usr/local/nginx/sbin/nginx
root      80793  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80794  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80795  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80796  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80797  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80798  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80799  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80800  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80801  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80802  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80803  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80804  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80805  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80806  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80807  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80808  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80809  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80810  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80811  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80812  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80813  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80814  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80815  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80816  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80958  76372  7 18:23 ?        00:00:00 [nginx]
root      80959  79970  0 18:23 ?        00:00:00 systemctl reload nginx_kernel
root      80960  80887  0 18:23 ?        00:00:00 bash -c ps -ef |grep nginx
root      80963      1  0 18:23 ?        00:00:00 /usr/local/nginx/sbin/nginx -s reload
root      80969  80960  0 18:23 ?        00:00:00 grep nginx

2021-11-24 18:23:50 [WARNING] Domain值为: hf.f1203.g01.cs_17.wg47 的Rabbitmq信息接收管道关闭成功!
2021-11-24 18:23:50 [WARNING] 这是进程的第1次等待
2021-11-24 18:23:50 [WARNING] 检查nginx的worker进程数：
root      76372      1  1 16:38 ?        00:01:16 nginx: master process /usr/local/nginx/sbin/nginx
root      80998  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80999  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81000  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81001  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81002  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81003  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81004  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81005  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81006  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81007  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81008  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81009  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81010  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81011  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81012  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81013  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81014  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81015  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81016  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81017  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81018  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81019  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81020  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81021  76372  2 18:23 ?        00:00:00 nginx: worker process
root      81022  80887  0 18:23 ?        00:00:00 bash -c ps -ef |grep nginx
root      81030  81022  0 18:23 ?        00:00:00 grep nginx

2021-11-24 18:23:50 [WARNING] 当前有24个进程启动成功
2021-11-24 18:23:50 [WARNING] 24个进程全部启动成功
2021-11-24 18:23:50 [WARNING] 检查ftp应用安全策略是否下发成功
2021-11-24 18:23:50 [WARNING] 查询命令为：cat /etc/jsac/ftp.json
2021-11-24 18:23:50 [WARNING] 预期包含内容：106
2021-11-24 18:23:50 [WARNING] 查询ftp.json命令返回值：
[{
    "AppId":  5,
    "AppRules":  [{
        "RuleId":  106,
        "Action":  "Allow",
        "Cmd":  ["ABOR", "ACCT", "ADAT", "ALLO", "APPE", "AUTH", "CCC", "CDUP", "CONF", "CWD", "ENC", "EPRT", "EPSV", "FEAT", "HELP", "LANG", "LIST", "LPRT", "LPSV", "MDTM", "MIC", "MKD", "MLSD", "MLST", "MODE", "NLST", "NOOP", "OPTS", "PASS", "PASV", "PBSZ", "PORT", "PROT", "PWD", "QUIT", "REIN", "REST", "RMD", "RNFR", "RNTO", "SITE", "SIZE", "SMNT", "STAT", "STOU", "STRU", "SYST", "TYPE", "USER", "XCUP", "XMKD", "XPWD", "XRCP", "XRMD", "XRSQ", "XSEM", "XSEN"]
      }]
  }]

2021-11-24 18:23:50 [WARNING] 1、普通用户登录ftp服务器
2021-11-24 18:23:50 [WARNING] *******已经成功连接'192.168.30.47'服务器FTP服务！！！
2021-11-24 18:23:50 [WARNING] ftp登录成功
2021-11-24 18:23:50 [WARNING] 欢迎语是：220 (vsFTPd 3.0.2)
2021-11-24 18:23:50 [WARNING] 2、普通用户登录ftp服务器，上传文件(上传命令被禁止)
2021-11-24 18:23:50 [WARNING] *******已经成功连接'192.168.30.47'服务器FTP服务！！！
2021-11-24 18:23:50 [WARNING] ftp登录成功
2021-11-24 18:23:50 [WARNING] 欢迎语是：220 (vsFTPd 3.0.2)
2021-11-24 18:23:50 [WARNING] creat dir:/
2021-11-24 18:23:50 [WARNING] creat dir://home
2021-11-24 18:23:50 [WARNING] creat dir://home/ftp
2021-11-24 18:23:50 [WARNING] creat dir://home/ftp/ftp_auto
2021-11-24 18:23:50 [WARNING] Error:
2021-11-24 18:23:50 [WARNING] ftp上传文件扩展名为C:\Users\admin\Desktop\work\1.txt，结果为:0
2021-11-24 18:23:50 [WARNING] 3、登录ftp服务器，下载文件(下载命令被禁止)
2021-11-24 18:23:50 [WARNING] *******已经成功连接'192.168.30.47'服务器FTP服务！！！
2021-11-24 18:23:50 [WARNING] ftp登录成功
2021-11-24 18:23:50 [WARNING] 欢迎语是：220 (vsFTPd 3.0.2)
2021-11-24 18:23:50 [WARNING] Error:
2021-11-24 18:23:50 [WARNING] ftp下载(下载命令被禁止)文件扩展名/home/ftp/ftp_auto/456.txt为白名单结果为:0
2021-11-24 18:23:50 [WARNING] 4、 登录ftp服务器，删除目录下的文件（删除命令被禁止）
2021-11-24 18:23:50 [WARNING] *******已经成功连接'192.168.30.47'服务器FTP服务！！！
2021-11-24 18:23:50 [WARNING] ftp登录成功
2021-11-24 18:23:50 [WARNING] 欢迎语是：220 (vsFTPd 3.0.2)
2021-11-24 18:23:50 [WARNING] 当前所在位置:/home/ftp/ftp_auto/ftp_del
2021-11-24 18:23:50 [WARNING] ['55']
2021-11-24 18:23:50 [WARNING] ['55']
2021-11-24 18:23:50 [WARNING] 55是文件夹
2021-11-24 18:23:50 [WARNING] []
2021-11-24 18:23:50 [WARNING] ftp删除(删除命令被禁止)/home/ftp/ftp_auto/ftp_del的结果为:None
2021-11-24 18:23:50 [WARNING] 
 start----------------------------------------------------------------------------------------------------
2021-11-24 18:23:50 [WARNING] 
result: test_ftp_check_delete_a1 -- failed
2021-11-24 18:23:50 [WARNING] 
 end----------------------------------------------------------------------------------------------------
2021-11-24 18:23:50 [WARNING] Rabbitmq服务器连接: 10.10.101.233:5672 成功.
2021-11-24 18:23:50 [WARNING] 向Rabbitmq发送信息成功!
2021-11-24 18:23:50 [WARNING] Domain值为: hf.f1203.g01.cs_17.wg47的Rabbitmq信息接收线程已开启!
2021-11-24 18:23:50 [WARNING] 查询命令为：ps -ef |grep nginx
2021-11-24 18:23:50 [WARNING] 检查当前nginx的worker进程数，第一次获取的结果为：root      76372      1  1 16:38 ?        00:01:16 nginx: master process /usr/local/nginx/sbin/nginx
root      80998  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80999  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81000  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81001  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81002  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81003  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81004  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81005  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81006  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81007  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81008  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81009  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81010  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81011  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81012  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81013  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81014  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81015  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81016  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81017  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81018  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81019  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81020  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81021  76372  2 18:23 ?        00:00:00 nginx: worker process
root      81049  80887  0 18:23 ?        00:00:00 bash -c ps -ef |grep nginx
root      81057  81049  0 18:23 ?        00:00:00 grep nginx

2021-11-24 18:23:55 [WARNING] Domain值为: hf.f1203.g01.cs_17.wg47 的Rabbitmq信息接收管道关闭成功!
2021-11-24 18:23:55 [WARNING] 这是进程的第1次等待
2021-11-24 18:23:56 [WARNING] 检查nginx的worker进程数：
root      76372      1  1 16:38 ?        00:01:18 nginx: master process /usr/local/nginx/sbin/nginx
root      80998  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80999  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81000  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81001  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81002  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81003  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81004  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81005  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81006  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81007  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81008  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81009  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81010  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81011  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81012  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81013  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81014  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81015  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81016  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81017  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81018  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81019  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81020  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81021  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81065  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81066  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81067  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81068  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81069  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81070  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81071  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81072  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81073  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81074  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81075  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81076  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81077  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81078  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81079  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81080  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81081  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81082  80887  0 18:23 ?        00:00:00 bash -c ps -ef |grep nginx
root      81085  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81091  81082  0 18:23 ?        00:00:00 grep nginx

2021-11-24 18:23:56 [WARNING] 当前有42个进程启动成功
2021-11-24 18:23:56 [WARNING] 这是进程的第2次等待
2021-11-24 18:23:56 [WARNING] 检查nginx的worker进程数：
root      76372      1  1 16:38 ?        00:01:18 nginx: master process /usr/local/nginx/sbin/nginx
root      80998  76372  0 18:23 ?        00:00:00 nginx: worker process
root      80999  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81000  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81001  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81002  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81003  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81004  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81005  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81006  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81007  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81008  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81009  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81010  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81011  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81012  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81013  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81014  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81015  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81016  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81017  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81018  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81019  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81020  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81021  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81065  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81066  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81067  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81068  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81069  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81070  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81071  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81072  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81073  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81074  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81075  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81076  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81077  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81078  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81079  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81080  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81081  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81085  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81092  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81093  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81094  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81095  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81096  80887  0 18:23 ?        00:00:00 bash -c ps -ef |grep nginx
root      81097  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81105  81096  0 18:23 ?        00:00:00 grep nginx

2021-11-24 18:23:56 [WARNING] 当前有47个进程启动成功
2021-11-24 18:23:56 [WARNING] 这是进程的第3次等待
2021-11-24 18:23:56 [WARNING] 检查nginx的worker进程数：
root      76372      1  1 16:38 ?        00:01:18 nginx: master process /usr/local/nginx/sbin/nginx
root      80998  76372  1 18:23 ?        00:00:00 [nginx]
root      80999  76372  1 18:23 ?        00:00:00 [nginx]
root      81000  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81001  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81002  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81003  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81004  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81005  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81006  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81007  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81008  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81009  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81010  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81011  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81012  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81013  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81014  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81015  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81016  76372  1 18:23 ?        00:00:00 [nginx]
root      81017  76372  1 18:23 ?        00:00:00 [nginx]
root      81018  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81019  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81020  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81021  76372  1 18:23 ?        00:00:00 nginx: worker process is shutting down
root      81065  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81066  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81067  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81068  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81069  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81070  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81071  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81072  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81073  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81074  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81075  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81076  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81077  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81078  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81079  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81080  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81081  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81085  76372  2 18:23 ?        00:00:00 nginx: worker process
root      81092  76372  2 18:23 ?        00:00:00 nginx: worker process
root      81093  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81094  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81095  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81097  76372  3 18:23 ?        00:00:00 nginx: worker process
root      81106  76372  2 18:23 ?        00:00:00 nginx: worker process
root      81107  80887  0 18:23 ?        00:00:00 bash -c ps -ef |grep nginx
root      81115  81107  0 18:23 ?        00:00:00 grep nginx

2021-11-24 18:23:56 [WARNING] 当前有24个进程启动成功
2021-11-24 18:23:56 [WARNING] 24个进程全部启动成功
2021-11-24 18:23:56 [WARNING] 检查代理端口是否监听
2021-11-24 18:23:56 [WARNING] 查询命令为：netstat -ntlp
2021-11-24 18:23:56 [WARNING] 监听端口命令返回值：
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        0      0 192.168.30.47:2121      0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 192.168.30.47:2122      0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 192.168.30.47:2123      0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 192.168.30.47:2124      0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 192.168.30.47:2125      0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 192.168.30.47:2126      0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 0.0.0.0:20022           0.0.0.0:*               LISTEN      12457/sshd: /usr/sb 
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      12457/sshd: /usr/sb 
tcp        0      0 0.0.0.0:8088            0.0.0.0:*               LISTEN      76372/nginx: master 
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      12923/master        
tcp        0      0 0.0.0.0:10050           0.0.0.0:*               LISTEN      12407/zabbix_agentd 
tcp6       0      0 :::20022                :::*                    LISTEN      12457/sshd: /usr/sb 
tcp6       0      0 :::22                   :::*                    LISTEN      12457/sshd: /usr/sb 
tcp6       0      0 ::1:25                  :::*                    LISTEN      12923/master        
tcp6       0      0 :::10050                :::*                    LISTEN      12407/zabbix_agentd 

2021-11-24 18:23:56 [WARNING] 预期包含内容：192.168.30.47:2121
2021-11-24 18:23:56 [WARNING] 端口监听检查通过
2021-11-24 18:23:56 [WARNING] 检查代理文件和内容是否正确
2021-11-24 18:23:56 [WARNING] 查询命令为：cat /etc/jsac/other_proxy/5_2121_ftp.stream
2021-11-24 18:23:56 [WARNING] 检查内容为：192.168.30.47:2121
2021-11-24 18:23:56 [WARNING] 代理文件内容为：
upstream 192.168.30.47-2121-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2121;
	app_id 5;
	proxy_pass 192.168.30.47-2121-ftp;
	proxy_service ftp;
}
upstream 192.168.30.47-2122-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2122;
	app_id 5;
	proxy_pass 192.168.30.47-2122-ftp;
	proxy_service ftp_data;
}
upstream 192.168.30.47-2123-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2123;
	app_id 5;
	proxy_pass 192.168.30.47-2123-ftp;
	proxy_service ftp_data;
}
upstream 192.168.30.47-2124-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2124;
	app_id 5;
	proxy_pass 192.168.30.47-2124-ftp;
	proxy_service ftp_data;
}
upstream 192.168.30.47-2125-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2125;
	app_id 5;
	proxy_pass 192.168.30.47-2125-ftp;
	proxy_service ftp_data;
}
upstream 192.168.30.47-2126-ftp {
	server 10.10.101.193:21;
}
server {
	listen 192.168.30.47:2126;
	app_id 5;
	proxy_pass 192.168.30.47-2126-ftp;
	proxy_service ftp_data;
}

2021-11-24 18:23:56 [WARNING] 代理文件检查通过
2021-11-24 18:23:56 [WARNING] Rabbitmq服务器连接: 10.10.101.233:5672 成功.
2021-11-24 18:23:56 [WARNING] 向Rabbitmq发送信息成功!
2021-11-24 18:23:56 [WARNING] Domain值为: hf.f1203.g01.cs_17.wg47的Rabbitmq信息接收线程已开启!
2021-11-24 18:23:56 [WARNING] 查询命令为：ps -ef |grep nginx
2021-11-24 18:23:56 [WARNING] 检查当前nginx的worker进程数，第一次获取的结果为：root      76372      1  1 16:38 ?        00:01:18 nginx: master process /usr/local/nginx/sbin/nginx
root      81065  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81066  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81067  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81068  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81069  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81070  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81071  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81072  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81073  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81074  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81075  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81076  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81077  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81078  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81079  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81080  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81081  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81085  76372  2 18:23 ?        00:00:00 nginx: worker process
root      81092  76372  2 18:23 ?        00:00:00 nginx: worker process
root      81093  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81094  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81095  76372  1 18:23 ?        00:00:00 nginx: worker process
root      81097  76372  3 18:23 ?        00:00:00 nginx: worker process
root      81106  76372  2 18:23 ?        00:00:00 nginx: worker process
root      81143  79970  0 18:23 ?        00:00:00 systemctl reload nginx_kernel
root      81144      1  0 18:23 ?        00:00:00 /usr/local/nginx/sbin/nginx -s reload
root      81145  80887  0 18:23 ?        00:00:00 bash -c ps -ef |grep nginx
root      81153  81145  0 18:23 ?        00:00:00 grep nginx

2021-11-24 18:24:01 [WARNING] Domain值为: hf.f1203.g01.cs_17.wg47 的Rabbitmq信息接收管道关闭成功!
2021-11-24 18:24:01 [WARNING] 这是进程的第1次等待
2021-11-24 18:24:01 [WARNING] 检查nginx的worker进程数：
root      76372      1  1 16:38 ?        00:01:20 nginx: master process /usr/local/nginx/sbin/nginx
root      81155  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81156  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81157  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81158  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81159  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81160  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81161  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81162  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81163  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81164  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81165  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81166  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81167  76372  0 18:23 ?        00:00:00 nginx: worker process
root      81168  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81169  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81170  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81171  76372  1 18:24 ?        00:00:00 nginx: worker process
root      81172  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81173  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81174  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81175  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81176  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81177  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81178  76372  0 18:24 ?        00:00:00 nginx: worker process
root      81183  80887  0 18:24 ?        00:00:00 bash -c ps -ef |grep nginx
root      81191  81183  0 18:24 ?        00:00:00 grep nginx

2021-11-24 18:24:01 [WARNING] 当前有24个进程启动成功
2021-11-24 18:24:01 [WARNING] 24个进程全部启动成功
2021-11-24 18:24:01 [WARNING] 检查ftp应用安全策略是否下发成功
2021-11-24 18:24:01 [WARNING] 查询命令为：cat /etc/jsac/ftp.json
2021-11-24 18:24:01 [WARNING] 预期包含内容：106
2021-11-24 18:24:01 [WARNING] 查询ftp.json命令返回值：
[{
    "AppId":  5,
    "AppRules":  [{
        "RuleId":  106,
        "Action":  "Allow",
        "Cmd":  ["ABOR", "ACCT", "ADAT", "ALLO", "APPE", "AUTH", "CCC", "CDUP", "CONF", "CWD", "DELE", "ENC", "EPRT", "EPSV", "FEAT", "HELP", "LANG", "LIST", "LPRT", "LPSV", "MDTM", "MIC", "MKD", "MLSD", "MLST", "MODE", "NLST", "NOOP", "OPTS", "PASS", "PASV", "PBSZ", "PORT", "PROT", "PWD", "QUIT", "REIN", "REST", "RETR", "RMD", "RNFR", "RNTO", "SITE", "SIZE", "SMNT", "STAT", "STOU", "STRU", "SYST", "TYPE", "USER", "XCUP", "XMKD", "XPWD", "XRCP", "XRMD", "XRSQ", "XSEM", "XSEN"]
      }]
  }]

2021-11-24 18:24:01 [WARNING] *******已经成功连接'192.168.30.47'服务器FTP服务！！！
2021-11-24 18:24:01 [WARNING] ftp登录成功
2021-11-24 18:24:01 [WARNING] 欢迎语是：220 (vsFTPd 3.0.2)
2021-11-24 18:24:01 [WARNING] *******已经成功连接'192.168.30.47'服务器FTP服务！！！
2021-11-24 18:24:02 [WARNING] ftp登录成功
2021-11-24 18:24:02 [WARNING] 欢迎语是：220 (vsFTPd 3.0.2)
2021-11-24 18:24:02 [WARNING] creat dir:/
2021-11-24 18:24:02 [WARNING] creat dir://home
2021-11-24 18:24:02 [WARNING] creat dir://home/ftp
2021-11-24 18:24:02 [WARNING] creat dir://home/ftp/ftp_auto
2021-11-24 18:24:02 [WARNING] Error:
2021-11-24 18:24:02 [WARNING] ftp上传(上传命令被禁止)文件C:\Users\admin\Desktop\work\1.txt的结果为:0
2021-11-24 18:24:02 [WARNING] *******已经成功连接'192.168.30.47'服务器FTP服务！！！
2021-11-24 18:24:02 [WARNING] ftp登录成功
2021-11-24 18:24:02 [WARNING] 欢迎语是：220 (vsFTPd 3.0.2)
2021-11-24 18:24:02 [WARNING] ftp下载（允许下载命令）文件/home/ftp/ftp_auto/456.txt的结果为:1
2021-11-24 18:24:02 [WARNING] *******已经成功连接'192.168.30.47'服务器FTP服务！！！
2021-11-24 18:24:02 [WARNING] ftp登录成功
2021-11-24 18:24:02 [WARNING] 欢迎语是：220 (vsFTPd 3.0.2)
2021-11-24 18:24:02 [WARNING] 当前所在位置:/home/ftp/ftp_auto/ftp_del
2021-11-24 18:24:02 [WARNING] ['55']
2021-11-24 18:24:02 [WARNING] ['55']
2021-11-24 18:24:02 [WARNING] 55是文件夹
2021-11-24 18:24:02 [WARNING] []
2021-11-24 18:24:02 [WARNING] ftp删除（允许删除命令）文件/home/ftp/ftp_auto/ftp_del的结果为:None
2021-11-24 18:24:02 [WARNING] 
 start----------------------------------------------------------------------------------------------------
2021-11-24 18:24:02 [WARNING] 
result: test_ftp_check_delete_a2 -- failed
2021-11-24 18:24:02 [WARNING] 
 end----------------------------------------------------------------------------------------------------
